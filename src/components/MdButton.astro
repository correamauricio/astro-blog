---
import '../styles/global.css';

interface Props {
  variant?: 'tonal' | 'secondary' | 'outline' | 'danger';
  size?: 'sm' | 'md' | 'lg';
  href?: string; 
  class?: string; 
  [key: string]: any; 
}

const { 
  variant = 'tonal', 
  size = 'md', 
  href, 
  class: className, 
  ...rest 
} = Astro.props;

const variants = {
  tonal: "bg-md-secondary-container text-md-on-secondary-container focus:before:opacity-10 before:absolute before:inset-0 before:bg-md-on-secondary-container before:opacity-0 hover:before:opacity-8 active:before:opacity-12",
  secondary: "bg-gray-800 text-white hover:bg-gray-900 focus:ring-gray-500",
  outline: "bg-transparent border border-gray-300 text-gray-700 hover:bg-gray-50 focus:ring-gray-500",
  danger: "bg-red-600 text-white hover:bg-red-700 focus:ring-red-500",
};

const sizes = {
  sm: "px-3 py-1.5 text-sm",
  md: "px-6 py-4 type-title-medium",
  lg: "px-12 py-8 type-headline-small",
};

const baseClasses = "inline-flex items-center justify-center gap-2 rounded-full transition-colors duration-200 focus:outline-none disabled:opacity-50 disabled:pointer-events-none relative overflow-hidden before:transition-opacity before:duration-300";

const Tag = href ? 'a' : 'button';
---

<Tag 
  href={href}
  class:list={[
    baseClasses,       
    variants[variant], 
    sizes[size],       
    className          
  ]}
  {...rest}
>
    <span class="z-10">
        <slot />
    </span>
</Tag>